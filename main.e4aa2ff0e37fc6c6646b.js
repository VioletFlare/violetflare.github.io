!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=25)}([function(t,e,i){t.exports=i.p+"assets/icon/fireball_icon.png"},function(t,e,i){t.exports=i.p+"assets/particles/flares_tex.png"},function(t,e,i){t.exports=i.p+"assets/particles/flares_tex.json"},function(t,e,i){var n=i(24);function r(t,e,i,n,r){var a=s.apply(this,arguments);return t.addEventListener(i,a,r),{destroy:function(){t.removeEventListener(i,a,r)}}}function s(t,e,i,r){return function(i){i.delegateTarget=n(i.target,e),i.delegateTarget&&r.call(t,i)}}t.exports=function(t,e,i,n,s){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof i?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return r(t,e,i,n,s)})))}},function(t,e,i){!function(){"use strict";var e={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};function i(t,e){try{return t(e)}catch(t){return e}}var n=document,r=window,s=n.documentElement,a=n.createElement.bind(n),o=a("div"),c=a("table"),l=a("tbody"),u=a("tr"),h=Array.isArray,f=Array.prototype,p=f.concat,d=f.filter,y=f.indexOf,g=f.map,m=f.push,v=f.slice,b=f.some,_=f.splice,x=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,w=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,k=/<.+>/,E=/^\w+$/;function C(t,e){return t&&(B(e)||S(e))?w.test(t)?e.getElementsByClassName(t.slice(1)):E.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t):[]}var D=function(){function t(t,e){if(t){if(L(t))return t;var i=t;if(H(t)){var s=(L(e)?e[0]:e)||n;if(!(i=x.test(t)?s.getElementById(t.slice(1)):k.test(t)?Nt(t):C(t,s)))return}else if(I(t))return this.ready(t);(i.nodeType||i===r)&&(i=[i]),this.length=i.length;for(var a=0,o=this.length;a<o;a++)this[a]=i[a]}}return t.prototype.init=function(e,i){return new t(e,i)},t}(),O=D.prototype,P=O.init;P.fn=P.prototype=O,O.length=0,O.splice=_,"function"==typeof Symbol&&(O[Symbol.iterator]=f[Symbol.iterator]),O.map=function(t){return P(p.apply([],g.call(this,(function(e,i){return t.call(e,i,e)}))))},O.slice=function(t,e){return P(v.call(this,t,e))};var j=/-([a-z])/g;function N(t){return t.replace(j,(function(t,e){return e.toUpperCase()}))}function T(t,e){var i=t&&(t.matches||t.webkitMatchesSelector||t.msMatchesSelector);return!!i&&!!e&&i.call(t,e)}function L(t){return t instanceof D}function A(t){return!!t&&t===t.window}function B(t){return!!t&&9===t.nodeType}function S(t){return!!t&&1===t.nodeType}function M(t){return"boolean"==typeof t}function I(t){return"function"==typeof t}function H(t){return"string"==typeof t}function $(t){return void 0===t}function R(t){return null===t}function G(t){return!isNaN(parseFloat(t))&&isFinite(t)}function X(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function W(t,e,i){if(i){for(var n=t.length;n--;)if(!1===e.call(t[n],n,t[n]))return t}else if(X(t))for(var r=Object.keys(t),s=(n=0,r.length);n<s;n++){var a=r[n];if(!1===e.call(t[a],a,t[a]))return t}else for(n=0,s=t.length;n<s;n++)if(!1===e.call(t[n],n,t[n]))return t;return t}function K(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=!!M(t[0])&&t.shift(),n=t.shift(),r=t.length;if(!n)return{};if(!r)return K(i,P,n);for(var s=0;s<r;s++){var a=t[s];for(var o in a)i&&(h(a[o])||X(a[o]))?(n[o]&&n[o].constructor===a[o].constructor||(n[o]=new a[o].constructor),K(i,n[o],a[o])):n[o]=a[o]}return n}function F(t){return H(t)?function(e,i){return T(i,t)}:I(t)?t:L(t)?function(e,i){return t.is(i)}:t?function(e,i){return i===t}:function(){return!1}}function V(t,e){return e?t.filter(e):t}P.guid=1,P.isWindow=A,P.isFunction=I,P.isArray=h,P.isNumeric=G,P.isPlainObject=X,O.get=function(t){return $(t)?v.call(this):this[(t=Number(t))<0?t+this.length:t]},O.eq=function(t){return P(this.get(t))},O.first=function(){return this.eq(0)},O.last=function(){return this.eq(-1)},P.each=W,O.each=function(t){return W(this,t)},O.prop=function(t,i){if(t){if(H(t))return t=e[t]||t,arguments.length<2?this[0]&&this[0][t]:this.each((function(e,n){n[t]=i}));for(var n in t)this.prop(n,t[n]);return this}},O.removeProp=function(t){return this.each((function(i,n){delete n[e[t]||t]}))},P.extend=K,O.extend=function(t){return K(O,t)},O.filter=function(t){var e=F(t);return P(d.call(this,(function(t,i){return e.call(t,i,t)})))};var Y=/\S+/g;function Z(t){return H(t)&&t.match(Y)||[]}function q(t,e,i,n){for(var r=[],s=I(e),a=n&&F(n),o=0,c=t.length;o<c;o++)if(s){var l=e(t[o]);l.length&&m.apply(r,l)}else for(var u=t[o][e];!(null==u||n&&a(-1,u));)r.push(u),u=i?u[e]:null;return r}function U(t){return t.length>1?d.call(t,(function(t,e,i){return y.call(i,t)===e})):t}function z(t,e,i){if(S(t)){var n=r.getComputedStyle(t,null);return i?n.getPropertyValue(e)||void 0:n[e]||t.style[e]}}function J(t,e){return parseInt(z(t,e),10)||0}O.hasClass=function(t){return!!t&&b.call(this,(function(e){return S(e)&&e.classList.contains(t)}))},O.removeAttr=function(t){var e=Z(t);return this.each((function(t,i){S(i)&&W(e,(function(t,e){i.removeAttribute(e)}))}))},O.attr=function(t,e){if(t){if(H(t)){if(arguments.length<2){if(!this[0]||!S(this[0]))return;var i=this[0].getAttribute(t);return R(i)?void 0:i}return $(e)?this:R(e)?this.removeAttr(t):this.each((function(i,n){S(n)&&n.setAttribute(t,e)}))}for(var n in t)this.attr(n,t[n]);return this}},O.toggleClass=function(t,e){var i=Z(t),n=!$(e);return this.each((function(t,r){S(r)&&W(i,(function(t,i){n?e?r.classList.add(i):r.classList.remove(i):r.classList.toggle(i)}))}))},O.addClass=function(t){return this.toggleClass(t,!0)},O.removeClass=function(t){return arguments.length?this.toggleClass(t,!1):this.attr("class","")},P.unique=U,O.add=function(t,e){return P(U(this.get().concat(P(t,e).get())))};var Q=/^--/;function tt(t){return Q.test(t)}var et={},it=o.style,nt=["webkit","moz","ms"];function rt(t,e){if(void 0===e&&(e=tt(t)),e)return t;if(!et[t]){var i=N(t),n=""+i[0].toUpperCase()+i.slice(1);W((i+" "+nt.join(n+" ")+n).split(" "),(function(e,i){if(i in it)return et[t]=i,!1}))}return et[t]}var st={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function at(t,e,i){return void 0===i&&(i=tt(t)),i||st[t]||!G(e)?e:e+"px"}O.css=function(t,e){if(H(t)){var i=tt(t);return t=rt(t,i),arguments.length<2?this[0]&&z(this[0],t,i):t?(e=at(t,e,i),this.each((function(n,r){S(r)&&(i?r.style.setProperty(t,e):r.style[t]=e)}))):this}for(var n in t)this.css(n,t[n]);return this};var ot=/^\s+|\s+$/;function ct(t,e){var n=t.dataset[e]||t.dataset[N(e)];return ot.test(n)?n:i(JSON.parse,n)}function lt(t,e,n){n=i(JSON.stringify,n),t.dataset[N(e)]=n}function ut(t,e){var i=t.documentElement;return Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])}function ht(t,e){return J(t,"border"+(e?"Left":"Top")+"Width")+J(t,"padding"+(e?"Left":"Top"))+J(t,"padding"+(e?"Right":"Bottom"))+J(t,"border"+(e?"Right":"Bottom")+"Width")}O.data=function(t,e){if(!t){if(!this[0])return;var i={};for(var n in this[0].dataset)i[n]=ct(this[0],n);return i}if(H(t))return arguments.length<2?this[0]&&ct(this[0],t):$(e)?this:this.each((function(i,n){lt(n,t,e)}));for(var n in t)this.data(n,t[n]);return this},W([!0,!1],(function(t,e){W(["Width","Height"],(function(t,i){O[(e?"outer":"inner")+i]=function(n){if(this[0])return A(this[0])?e?this[0]["inner"+i]:this[0].document.documentElement["client"+i]:B(this[0])?ut(this[0],i):this[0][(e?"offset":"client")+i]+(n&&e?J(this[0],"margin"+(t?"Top":"Left"))+J(this[0],"margin"+(t?"Bottom":"Right")):0)}}))})),W(["Width","Height"],(function(t,e){var i=e.toLowerCase();O[i]=function(n){if(!this[0])return $(n)?void 0:this;if(!arguments.length)return A(this[0])?this[0].document.documentElement["client"+e]:B(this[0])?ut(this[0],e):this[0].getBoundingClientRect()[i]-ht(this[0],!t);var r=parseInt(n,10);return this.each((function(e,n){if(S(n)){var s=z(n,"boxSizing");n.style[i]=at(i,r+("border-box"===s?ht(n,!t):0))}}))}}));var ft={};function pt(t){return"none"===z(t,"display")}function dt(t,e){return!e||!b.call(e,(function(e){return t.indexOf(e)<0}))}O.toggle=function(t){return this.each((function(e,i){S(i)&&(($(t)?pt(i):t)?(i.style.display=i.___cd||"",pt(i)&&(i.style.display=function(t){if(ft[t])return ft[t];var e=a(t);n.body.insertBefore(e,null);var i=z(e,"display");return n.body.removeChild(e),ft[t]="none"!==i?i:"block"}(i.tagName))):(i.___cd=z(i,"display"),i.style.display="none"))}))},O.hide=function(){return this.toggle(!1)},O.show=function(){return this.toggle(!0)};var yt={focus:"focusin",blur:"focusout"},gt={mouseenter:"mouseover",mouseleave:"mouseout"},mt=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function vt(t){return gt[t]||yt[t]||t}function bt(t){return t.___ce=t.___ce||{}}function _t(t){var e=t.split(".");return[e[0],e.slice(1).sort()]}function xt(t,e,i,n,r){var s=bt(t);if(e)s[e]&&(s[e]=s[e].filter((function(s){var a=s[0],o=s[1],c=s[2];if(r&&c.guid!==r.guid||!dt(a,i)||n&&n!==o)return!0;t.removeEventListener(e,c)})));else for(e in s)xt(t,e,i,n,r)}function wt(t){return t.multiple&&t.options?q(d.call(t.options,(function(t){return t.selected&&!t.disabled&&!t.parentNode.disabled})),"value"):t.value||""}O.off=function(t,e,i){var n=this;if($(t))this.each((function(t,e){(S(e)||B(e)||A(e))&&xt(e)}));else if(H(t))I(e)&&(i=e,e=""),W(Z(t),(function(t,r){var s=_t(r),a=s[0],o=s[1],c=vt(a);n.each((function(t,n){(S(n)||B(n)||A(n))&&xt(n,c,o,e,i)}))}));else for(var r in t)this.off(r,t[r]);return this},O.on=function(t,e,i,n,r){var s=this;if(!H(t)){for(var a in t)this.on(a,e,i,t[a],r);return this}return H(e)||($(e)||R(e)?e="":$(i)?(i=e,e=""):(n=i,i=e,e="")),I(n)||(n=i,i=void 0),n?(W(Z(t),(function(t,a){var o=_t(a),c=o[0],l=o[1],u=vt(c),h=c in gt,f=c in yt;u&&s.each((function(t,s){if(S(s)||B(s)||A(s)){var a=function t(a){if(a.target["___i"+a.type])return a.stopImmediatePropagation();if((!a.namespace||dt(l,a.namespace.split(".")))&&(e||!(f&&(a.target!==s||a.___ot===u)||h&&a.relatedTarget&&s.contains(a.relatedTarget)))){var o=s;if(e){for(var c=a.target;!T(c,e);){if(c===s)return;if(!(c=c.parentNode))return}o=c,a.___cd=!0}a.___cd&&Object.defineProperty(a,"currentTarget",{configurable:!0,get:function(){return o}}),Object.defineProperty(a,"data",{configurable:!0,get:function(){return i}});var p=n.call(o,a,a.___td);r&&xt(s,u,l,e,t),!1===p&&(a.preventDefault(),a.stopPropagation())}};a.guid=n.guid=n.guid||P.guid++,function(t,e,i,n,r){var s=bt(t);s[e]=s[e]||[],s[e].push([i,n,r]),t.addEventListener(e,r)}(s,u,l,e,a)}}))})),this):this},O.one=function(t,e,i,n){return this.on(t,e,i,n,!0)},O.ready=function(t){var e=function(){return setTimeout(t,0,P)};return"loading"!==n.readyState?e():n.addEventListener("DOMContentLoaded",e),this},O.trigger=function(t,e){if(H(t)){var i=_t(t),r=i[0],s=i[1],a=vt(r);if(!a)return this;var o=mt.test(a)?"MouseEvents":"HTMLEvents";(t=n.createEvent(o)).initEvent(a,!0,!0),t.namespace=s.join("."),t.___ot=r}t.___td=e;var c=t.___ot in yt;return this.each((function(e,i){c&&I(i[t.___ot])&&(i["___i"+t.type]=!0,i[t.___ot](),i["___i"+t.type]=!1),i.dispatchEvent(t)}))};var kt=/%20/g,Et=/\r?\n/g;var Ct=/file|reset|submit|button|image/i,Dt=/radio|checkbox/i;O.serialize=function(){var t="";return this.each((function(e,i){W(i.elements||[i],(function(e,i){if(!(i.disabled||!i.name||"FIELDSET"===i.tagName||Ct.test(i.type)||Dt.test(i.type)&&!i.checked)){var n=wt(i);if(!$(n))W(h(n)?n:[n],(function(e,n){t+=function(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e.replace(Et,"\r\n")).replace(kt,"+")}(i.name,n)}))}}))})),t.slice(1)},O.val=function(t){return arguments.length?this.each((function(e,i){var n=i.multiple&&i.options;if(n||Dt.test(i.type)){var r=h(t)?g.call(t,String):R(t)?[]:[String(t)];n?W(i.options,(function(t,e){e.selected=r.indexOf(e.value)>=0}),!0):i.checked=r.indexOf(i.value)>=0}else i.value=$(t)||R(t)?"":t})):this[0]&&wt(this[0])},O.clone=function(){return this.map((function(t,e){return e.cloneNode(!0)}))},O.detach=function(t){return V(this,t).each((function(t,e){e.parentNode&&e.parentNode.removeChild(e)})),this};var Ot=/^\s*<(\w+)[^>]*>/,Pt=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,jt={"*":o,tr:l,td:u,th:u,thead:c,tbody:c,tfoot:c};function Nt(t){if(!H(t))return[];if(Pt.test(t))return[a(RegExp.$1)];var e=Ot.test(t)&&RegExp.$1,i=jt[e]||jt["*"];return i.innerHTML=t,P(i.childNodes).detach().get()}P.parseHTML=Nt,O.empty=function(){return this.each((function(t,e){for(;e.firstChild;)e.removeChild(e.firstChild)}))},O.html=function(t){return arguments.length?$(t)?this:this.each((function(e,i){S(i)&&(i.innerHTML=t)})):this[0]&&this[0].innerHTML},O.remove=function(t){return V(this,t).detach().off(),this},O.text=function(t){return $(t)?this[0]?this[0].textContent:"":this.each((function(e,i){S(i)&&(i.textContent=t)}))},O.unwrap=function(){return this.parent().each((function(t,e){if("BODY"!==e.tagName){var i=P(e);i.replaceWith(i.children())}})),this},O.offset=function(){var t=this[0];if(t){var e=t.getBoundingClientRect();return{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}}},O.offsetParent=function(){return this.map((function(t,e){for(var i=e.offsetParent;i&&"static"===z(i,"position");)i=i.offsetParent;return i||s}))},O.position=function(){var t=this[0];if(t){var e="fixed"===z(t,"position"),i=e?t.getBoundingClientRect():this.offset();if(!e){for(var n=t.ownerDocument,r=t.offsetParent||n.documentElement;(r===n.body||r===n.documentElement)&&"static"===z(r,"position");)r=r.parentNode;if(r!==t&&S(r)){var s=P(r).offset();i.top-=s.top+J(r,"borderTopWidth"),i.left-=s.left+J(r,"borderLeftWidth")}}return{top:i.top-J(t,"marginTop"),left:i.left-J(t,"marginLeft")}}},O.children=function(t){return V(P(U(q(this,(function(t){return t.children})))),t)},O.contents=function(){return P(U(q(this,(function(t){return"IFRAME"===t.tagName?[t.contentDocument]:"TEMPLATE"===t.tagName?t.content.childNodes:t.childNodes}))))},O.find=function(t){return P(U(q(this,(function(e){return C(t,e)}))))};var Tt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt=/^$|^module$|\/(java|ecma)script/i,At=["type","src","nonce","noModule"];function Bt(t,e,i,n,r){n?t.insertBefore(e,i?t.firstChild:null):t.parentNode.insertBefore(e,i?t:t.nextSibling),r&&function(t,e){var i=P(t);i.filter("script").add(i.find("script")).each((function(t,i){if(Lt.test(i.type)&&s.contains(i)){var n=a("script");n.text=i.textContent.replace(Tt,""),W(At,(function(t,e){i[e]&&(n[e]=i[e])})),e.head.insertBefore(n,null),e.head.removeChild(n)}}))}(e,t.ownerDocument)}function St(t,e,i,n,r,s,a,o){return W(t,(function(t,s){W(P(s),(function(t,s){W(P(e),(function(e,a){var o=i?a:s,c=i?t:e;Bt(i?s:a,c?o.cloneNode(!0):o,n,r,!c)}),o)}),a)}),s),e}O.after=function(){return St(arguments,this,!1,!1,!1,!0,!0)},O.append=function(){return St(arguments,this,!1,!1,!0)},O.appendTo=function(t){return St(arguments,this,!0,!1,!0)},O.before=function(){return St(arguments,this,!1,!0)},O.insertAfter=function(t){return St(arguments,this,!0,!1,!1,!1,!1,!0)},O.insertBefore=function(t){return St(arguments,this,!0,!0)},O.prepend=function(){return St(arguments,this,!1,!0,!0,!0,!0)},O.prependTo=function(t){return St(arguments,this,!0,!0,!0,!1,!1,!0)},O.replaceWith=function(t){return this.before(t).remove()},O.replaceAll=function(t){return P(t).replaceWith(this),this},O.wrapAll=function(t){for(var e=P(t),i=e[0];i.children.length;)i=i.firstElementChild;return this.first().before(e),this.appendTo(i)},O.wrap=function(t){return this.each((function(e,i){var n=P(t)[0];P(i).wrapAll(e?n.cloneNode(!0):n)}))},O.wrapInner=function(t){return this.each((function(e,i){var n=P(i),r=n.contents();r.length?r.wrapAll(t):n.append(t)}))},O.has=function(t){var e=H(t)?function(e,i){return C(t,i).length}:function(e,i){return i.contains(t)};return this.filter(e)},O.is=function(t){var e=F(t);return b.call(this,(function(t,i){return e.call(t,i,t)}))},O.next=function(t,e,i){return V(P(U(q(this,"nextElementSibling",e,i))),t)},O.nextAll=function(t){return this.next(t,!0)},O.nextUntil=function(t,e){return this.next(e,!0,t)},O.not=function(t){var e=F(t);return this.filter((function(i,n){return(!H(t)||S(n))&&!e.call(n,i,n)}))},O.parent=function(t){return V(P(U(q(this,"parentNode"))),t)},O.index=function(t){var e=t?P(t)[0]:this[0],i=t?this:P(e).parent().children();return y.call(i,e)},O.closest=function(t){var e=this.filter(t);if(e.length)return e;var i=this.parent();return i.length?i.closest(t):e},O.parents=function(t,e){return V(P(U(q(this,"parentElement",!0,e))),t)},O.parentsUntil=function(t,e){return this.parents(e,t)},O.prev=function(t,e,i){return V(P(U(q(this,"previousElementSibling",e,i))),t)},O.prevAll=function(t){return this.prev(t,!0)},O.prevUntil=function(t,e){return this.prev(e,!0,t)},O.siblings=function(t){return V(P(U(q(this,(function(t){return P(t).parent().children().not(t)})))),t)},t.exports=P}()},function(t,e,i){t.exports=i.p+"assets/tiles/dark_tiles.png"},function(t){t.exports=JSON.parse('{"compressionlevel":-1,"editorsettings":{"export":{"target":"."}},"height":32,"infinite":false,"layers":[{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483649,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,10,10,10,10,10,10,10,10,10,10,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,21,10,10,10,10,20,18,18,18,18,21,10,2147483658,2147483658,2147483669,2147483666,2147483666,2147483666,2147483666,2147483668,2147483658,2147483658,2147483658,2147483658,2147483669,2147483665,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,21,10,10,20,19,0,0,0,0,17,21,10,20,19,0,0,0,0,2147483667,21,10,2147483658,2147483669,2147483665,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":32,"id":1,"name":"arch","opacity":1,"type":"tilelayer","visible":true,"width":42,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27],"height":32,"id":3,"name":"ground","opacity":1,"type":"tilelayer","visible":true,"width":42,"x":0,"y":0},{"draworder":"topdown","id":2,"name":"collision","objects":[{"height":0,"id":2,"name":"","polyline":[{"x":16,"y":0},{"x":846.667,"y":0}],"rotation":0,"type":"","visible":true,"width":0,"x":129,"y":694},{"height":0,"id":3,"name":"","polyline":[{"x":-492.5,"y":426},{"x":822.334,"y":426}],"rotation":0,"type":"","visible":true,"width":0,"x":508,"y":582.667}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"draworder":"topdown","id":4,"name":"player","objects":[{"height":0,"id":4,"name":"player_spawn","point":true,"properties":[{"name":"id","type":"int","value":1}],"rotation":0,"type":"","visible":true,"width":0,"x":192,"y":640},{"height":0,"id":40,"name":"player_spawn_0","point":true,"rotation":0,"type":"","visible":true,"width":0,"x":1235.33333333333,"y":939.333333333333}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"draworder":"topdown","id":9,"name":"passage","objects":[{"height":122.667,"id":41,"name":"passage_0","properties":[{"name":"map","type":"string","value":"temple1"},{"name":"spawn","type":"string","value":"player_spawn_0"}],"rotation":0,"type":"","visible":true,"width":62,"x":1303,"y":901.999833333333}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"draworder":"topdown","id":6,"name":"npc","objects":[{"height":0,"id":35,"name":"ghost_spawn_0","point":true,"rotation":0,"type":"","visible":true,"width":0,"x":544,"y":642.666666666667},{"height":0,"id":36,"name":"ghost_spawn_1","point":true,"rotation":0,"type":"","visible":true,"width":0,"x":414.666666666667,"y":949.333333333333},{"height":0,"id":37,"name":"ghost_spawn_2","point":true,"rotation":0,"type":"","visible":true,"width":0,"x":864.666666666667,"y":946.666666666667}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0}],"nextlayerid":10,"nextobjectid":42,"orientation":"orthogonal","renderorder":"right-down","tiledversion":"1.3.4","tileheight":32,"tilesets":[{"columns":8,"firstgid":1,"image":"../tiles/dark_tiles.png","imageheight":199,"imagewidth":265,"margin":1,"name":"dark_tiles","spacing":1,"tilecount":48,"tileheight":32,"tilewidth":32}],"tilewidth":32,"type":"map","version":1.2,"width":42}')},function(t,e,i){t.exports=i.p+"assets/girl/girl_tex.png"},function(t,e,i){t.exports=i.p+"assets/girl/girl_tex.json"},function(t,e,i){t.exports=i.p+"assets/girl/girl_ske.dbbin"},function(t,e,i){t.exports=i.p+"assets/ghost/ghost_tex.png"},function(t,e,i){t.exports=i.p+"assets/ghost/ghost_tex.json"},function(t,e,i){t.exports=i.p+"assets/ghost/ghost_ske.dbbin"},function(t,e,i){t.exports=i.p+"assets/gems/gems_tex.png"},function(t,e,i){t.exports=i.p+"assets/gems/gems_tex.json"},function(t,e,i){t.exports=i.p+"assets/particles/particles0_tex.png"},function(t,e,i){t.exports=i.p+"assets/particles/particles0_tex.json"},function(t,e,i){t.exports=i.p+"lib/phaser.js"},function(t,e,i){t.exports=i.p+"lib/dragonBones.js"},function(t,e,i){var n=i(20),r=i(21);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};n(r,s);t.exports=r.locals||{}},function(t,e,i){"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},s=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),a=[];function o(t){for(var e=-1,i=0;i<a.length;i++)if(a[i].identifier===t){e=i;break}return e}function c(t,e){for(var i={},n=[],r=0;r<t.length;r++){var s=t[r],c=e.base?s[0]+e.base:s[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var h=o(u),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(a[h].references++,a[h].updater(f)):a.push({identifier:u,updater:g(f,e),references:1}),n.push(u)}return n}function l(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var r=i.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var a=s(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,h=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,i,n){var r=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=h(e,r);else{var s=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function p(t,e,i){var n=i.css,r=i.media,s=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var d=null,y=0;function g(t,e){var i,n,r;if(e.singleton){var s=y++;i=d||(d=l(e)),n=f.bind(null,i,s,!1),r=f.bind(null,i,s,!0)}else i=l(e),n=p.bind(null,i,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var i=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var r=o(i[n]);a[r].references--}for(var s=c(t,e),l=0;l<i.length;l++){var u=o(i[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}i=s}}}},function(t,e,i){(e=i(22)(!1)).push([t.i,"canvas,html,body{background-color:black;overflow:hidden}canvas{display:block;margin:0 auto}.dialogueBox{position:fixed;bottom:5px;width:80vw;height:20vh;left:10vw}.hotkeyBarContainer{display:flex;justify-content:center}.hotkeyBarContainer .hotkeyBar{padding-inline-start:0px;list-style-type:none;width:auto;display:flex;pointer-events:all;position:absolute;margin:0;top:var(--draggable-element-top-px);left:var(--draggable-element-left-px)}.hotkeyBarContainer .hotkeyBar.draggable li{pointer-events:none}.hotkeyBarContainer .hotkeyBar li{margin:0 2px;border:1px solid gray;width:32px;height:32px;background-image:var(--hotkey-icon-bg-img)}.hotkeyBarContainer .hotkeyBar li::before{content:attr(data-id);color:white;margin-left:2px;text-shadow:1px 1px black}.log{height:128px;width:400px;margin-block-end:0;margin-block-start:0;padding-inline-start:0;bottom:5px;left:5px;position:fixed;overflow-y:scroll;pointer-events:all;background:rgba(0,0,0,0.5)}.log li{padding-left:2px;padding-top:2px;color:white;font-size:13px;text-shadow:1px 1px black}.uiLayer{position:absolute;top:1%;height:100vh;width:100vw;pointer-events:none;font-family:helvetica}\n",""]),t.exports=e},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var r=(a=n,o=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(c," */")),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[i].concat(s).concat([r]).join("\n")}var a,o,c;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(n)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(r[a]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);n&&r[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},function(t,e){class i extends Phaser.Events.EventEmitter{constructor(){super(),this.isDebug=!0}emit(t,e){super.emit(t,e),this.isDebug&&console.log(t)}listen(t,e){super.addListener(t,e)}}window.$G=new i},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,i){"use strict";i.r(e);i(17),i(18),i(19),i(23);var n=new class{findObjectLayerByName(t,e){return t.objects.find(t=>t.name===e)}findObjectsByName(t,e){let i=new Array;return t.objects.forEach(t=>{t.name===e&&i.push(t)}),i}},r=i(5),s=i.n(r),a=i(6);var o=new class{_calculatePosition(t){const e=t.polyline[1].x<0,i=t.polyline[1].y<0;let n;return n=e?[t.x+t.polyline[1].x,t.y+t.polyline[0].y]:i?[t.x+t.polyline[0].x,t.y+t.polyline[1].y]:[t.x+t.polyline[0].x,t.y+t.polyline[0].y],n}_calculateDimension(t,e=5,i=5){t.polyline[0].y===t.polyline[1].y?e=t.x+t.polyline[1].x-(t.x+t.polyline[0].x):i=t.y+t.polyline[1].y-(t.y+t.polyline[0].y);return[Math.abs(e),Math.abs(i)]}_createWall(t){const e=this._calculatePosition(t),i=this._calculateDimension(t),n=this.invisibleWalls.create(...e).setOrigin(0,0);n.setDisplaySize(...i),n.refreshBody()}create(t,e,i=!0){return this.invisibleWalls=t.physics.add.staticGroup(),e.objects.forEach(t=>this._createWall(t)),i&&this.invisibleWalls.toggleVisible(),this.invisibleWalls}};var c=class{constructor(t){this.config=t}preload(){this.config.scene.load.dragonbone(this.config.skin.armature.name,this.config.skin.armature.texPng,this.config.skin.armature.texJson,this.config.skin.armature.skeDbbin,null,null,{responseType:"arraybuffer"})}_scaleArmature(){this.armatureDisplay.scaleX=this.config.scale,this.armatureDisplay.scaleY=this.config.scale}create(){return this.armatureDisplay=this.config.scene.add.armature(this.config.skin.armature.name,this.config.skin.armature.name),this._scaleArmature(),this.armatureDisplay}};var l=new class{create(t){return new c(t)}};var u=class{constructor(t,e){this.position=t,this.effect=e,this._createZone(),this._createPhysics()}_createZone(){this.explosionZone=this.effect.scene.make.zone({x:this.position.x,y:this.position.y,width:this.effect.config.AoEEffect.physicConfiguration.width,height:this.effect.config.AoEEffect.physicConfiguration.height})}_addExplosionCollisionOverlap(){this.explosionOverlap=this.effect.scene.physics.add.overlap(this.effect.scene.charactersOverlapArr,this.explosionZone,()=>this._onExplosionHit())}_createPhysics(){this.explosionZone.bodymoves=!1,this.effect.scene.physics.world.enable(this.explosionZone,1),this._addExplosionCollisionOverlap()}_stopExplosion(){this.explosionOverlap.destroy(),setTimeout(()=>this.explosionZone.destroy(),400)}_onExplosionHit(){this.explosionOverlap.active&&this._stopExplosion()}};var h=class{constructor(t){this.scene=t.scene,this.particles=this.scene.add.particles(t.atlasName),this.emitter=this.particles.createEmitter(t.emitterConfiguration),this.config=t}_setupContainerPhysics(){this.scene.physics.world.enable(this.container),this.container.body.allowGravity=!1,this.container.body.allowDrag=!1}_setupContainerDimensions(){this.container.body.setSize(this.config.physicConfiguration.width,this.config.physicConfiguration.height),this.container.body.offset.set(this.config.physicConfiguration.offsetX,this.config.physicConfiguration.offsetY)}create(t){this.originPos=t,this.container=this.scene.add.container(this.originPos.x,this.originPos.y),this.container.add(this.particles),this.container.setPosition(this.originPos.x,this.originPos.y),this.config.physicConfiguration&&(this._setupContainerPhysics(),this._setupContainerDimensions())}};var f=class extends h{constructor(t){super(t)}create(t){super.create(t),this.emitter.explode()}};var p=class{constructor(t){this.target=t}_createExplosion(t){const e=this.target.armatureDisplay.body.center,i=new f(t.config);new u(e,i)}handleAfterEffect(t){t.config.isAoE&&this._createExplosion(t)}};var d=class{constructor(t){this.target=t,this.afterEffectManager=new p(this.target)}applyEffect(t,e){$G.emit("EffectManager::appliedEffect",{user:t,effect:e,target:this.target}),this.afterEffectManager.handleAfterEffect(e)}};class y extends Phaser.GameObjects.GameObject{constructor(t){super(t.scene),this.config=t,this.effectManager=new d(this)}_calculateDimensions(){this.width=this.armatureDisplay.armature.armatureData.canvas.width,this.height=this.armatureDisplay.armature.armatureData.canvas.height,this.offsetX=-this.width/2,this.offsetY=-this.height}_setDimensions(){this.armatureDisplay.body.setSize(this.width,this.height),this.armatureDisplay.body.offset.set(this.offsetX,this.offsetY)}_createInteractiveZone(){const t=this.offsetY/2;this.interactiveZone=this.config.scene.add.zone(0,t,this.width,this.height),this.interactiveZone.setName("interactiveZone"),this.interactiveZone.setInteractive(),this.armatureDisplay.add(this.interactiveZone)}_setSpawn(t){this.armatureDisplay.x=t[0].x,this.armatureDisplay.y=t[0].y}applyEffect(t,e){this.effectManager.applyEffect(t,e)}_focusObject(t,e,i,n){this.config.scene.marker.set(this),n.stopPropagation()}_setEvents(){this.interactiveZone.on("pointerdown",this._focusObject,this)}_createArmatureDisplay(){const t=this.armature.create();this.armatureDisplay=this.config.scene.physics.add.existing(t)}preload(){this.armature=l.create(this.config),this.armature.preload()}getSpellOriginPos(){const t=this.armatureDisplay.list[this.config.skin.spellOriginSlotNumber].x,e=this.armatureDisplay.list[this.config.skin.spellOriginSlotNumber].y,i=t*this.armatureDisplay.scaleX,n=e*this.armatureDisplay.scaleY,r=this.armatureDisplay.x+i,s=this.armatureDisplay.y+n;return new Phaser.Math.Vector2(r,s)}create(t){this._createArmatureDisplay(),this._calculateDimensions(),this._setDimensions(),this._createInteractiveZone(),this._setSpawn(t),this._setEvents()}}var g=y;var m=class{constructor(t,e,i){this.user=t,this.target=e,this.effect=i}_initParameters(){this.originPos=this.user.getSpellOriginPos(),this.targetPos=this.target.armatureDisplay.body.center,this.rotation=this._calculateProjectileRotation()}_calculateAngleBetweenOriginAndTarget(){return Phaser.Math.Angle.Between(this.originPos.x,this.originPos.y,this.targetPos.x,this.targetPos.y)}_calculateProjectileRotation(){const t=this._calculateAngleBetweenOriginAndTarget();return this.effect.config.physicConfiguration.rotationOffset+t}_setupEffect(){this.effect.create(this.originPos),this.effect.container.setRotation(this.rotation)}_onProjectileHitTarget(){this.target.applyEffect(this.user,this.effect),this.effect.container.destroy()}_setOverlapTarget(){this.effect.scene.physics.add.overlap(this.target.armatureDisplay,this.effect.container,()=>this._onProjectileHitTarget(),null,this.effect.scene)}_onReadyToLaunch(){this._initParameters(),this._setupEffect(),this._setOverlapTarget(),this.effect.scene.physics.moveToObject(this.effect.container,this.targetPos,this.effect.config.physicConfiguration.speed)}launch(){setTimeout(()=>this._onReadyToLaunch(),this.effect.config.physicConfiguration.launchTimeOffset)}};var v=class extends h{create(t){super.create(t),this.emitter.start()}};var b=new class{_getAnimationDuration(t){const e=t.user.armatureDisplay.armature.animation.animations[t.animationName].duration;return Math.floor(1e3*e)}_throw(t){const e=new v(t),i=new m(t.user,t.target,e),n=this._getAnimationDuration(t);i.launch(),t.user.config.skin.throwSpell(t.user.armatureDisplay),setTimeout(()=>t.user.isNotIdleAnimationBlocked=!0,n)}use(t){t.target&&this._throw(t)}};var _=new class{use(t){t.user.isNotIdleAnimationBlocked=!1,t.isSpell?b.use(t):t.isRanged||t.isMeele}};var x=new class{create(t){this.player=t,this.player.isNotIdleAnimationBlocked=!0,this._setMovementKeys(),this._setNumberKeys(),this._setEvents()}_setMovementKeys(){this.upKey=this.player.config.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP),this.player.config.scene.input.keyboard.addKeys({up:Phaser.Input.Keyboard.KeyCodes.W,left:Phaser.Input.Keyboard.KeyCodes.A,right:Phaser.Input.Keyboard.KeyCodes.D})}_setNumberKeys(){this.hotkeyBarKeyEventNames=["keydown-ONE","keydown-TWO","keydown-THREE","keydown-FOUR","keydown-FIVE","keydown-SIX","keydown-SEVEN","keydown-EIGHT","keydown-NINE","keydown-ZERO"]}_onHotkeyDown(t){const e={id:String.fromCharCode(t.keyCode)};this._useAbility(e)}_setHotkeyEvents(){for(let t of this.hotkeyBarKeyEventNames)this.player.config.scene.input.keyboard.on(t,t=>this._onHotkeyDown(t),!1)}_useAbilityOnFocusedObject(t){const e=$G.hotkeys.keys[t.id];_.use({user:this.player,target:this.player.config.scene.focusedGameObject,...e})}_useAbilityOnCursorPosition(){}_useAbility(t){if(this.player.isNotMoving){this.player.config.scene.focusedGameObject?this._useAbilityOnFocusedObject(t):this._useAbilityOnCursorPosition()}}_jump(){this.player.armatureDisplay.body.touching.down&&this.player.jump()}_setEvents(){this.upKey.on("down",()=>this._jump()),this._setHotkeyEvents(),$G.listen("HotkeyBar::ClickedHotkey",t=>this._useAbility(t))}update(t){t.isNotMoving=!(t.cursors.right.isDown||t.cursors.left.isDown||t.cursors.up.isDown)&&t.armatureDisplay.body.touching.down,t.isIdle=t.isNotIdleAnimationBlocked&&t.isNotMoving,t.isIdle?t._idle():t.cursors.right.isDown?t._run(t.config.runVelocity,!1):t.cursors.left.isDown&&t._run(-t.config.runVelocity,!0)}};var w=class extends g{constructor(t){super(t),this.abilities=[]}_run(t,e){this.config.skin.run(this.armatureDisplay,t,e)}_idle(){this.config.skin.idle(this.armatureDisplay)}jump(){this.armatureDisplay.body.setVelocityY(-this.config.jumpVelocity)}preload(){super.preload(),this.cursors=this.config.scene.input.keyboard.createCursorKeys()}create(t){super.create(t),this.armatureDisplay.body.collideWorldBounds=!0,x.create(this)}update(){x.update(this)}};var k=new class{create(t){return new w(t)}};var E=class extends g{constructor(t){super(t)}preload(){super.preload()}create(t){super.create(t),this.config.skin.create(this.armatureDisplay)}_run(t){this.config.skin.run(this.armatureDisplay,t,this.flipX)}patrol(){setInterval(()=>{this.flipX?(this._run(-160),this.flipX=!1):(this._run(160),this.flipX=!0)},2e3)}};var C=new class{create(t){return new E(t)}},D=i(7),O=i.n(D),P=i(8),j=i.n(P),N=i(9),T=i.n(N);var L=class{run(t,e,i){t.body.setVelocityX(e),t.armature.flipX=i}idle(t){t.body.setVelocityX(0)}playAnimation(t,e){t.animation.lastAnimationName!==e&&t.armature.animation.play(e)}playAnimationOnce(t,e){t.animation.lastAnimationName!==e&&t.armature.animation.play(e,1)}};var A=new class extends L{constructor(){super(),this.armature={name:"girl",texPng:O.a,texJson:j.a,skeDbbin:T.a},this.spellOriginSlotNumber=24}idle(t){super.idle(t),super.playAnimation(t,"idle_0")}throwSpell(t){super.playAnimationOnce(t,"cast_0")}run(t,e,i){super.run(t,e,i),super.playAnimation(t,"run_0")}},B=i(10),S=i.n(B),M=i(11),I=i.n(M),H=i(12),R=i.n(H);var G=new class extends L{constructor(){super(),this.armature={name:"ghost",texPng:S.a,texJson:I.a,skeDbbin:R.a}}_createPhysics(t){t.body.setBounce(0),t.body.collideWorldBounds=!0}run(t,e,i){super.run(t,e,i),super.playAnimation("run_0")}create(t){this._createPhysics(t)}},X=i(13),W=i.n(X),K=i(14),F=i.n(K);var V=class{constructor(t){this.scene=t}preload(){this.scene.load.atlas("gems",W.a,F.a)}create(){this.scene.anims.create({key:"prism",frames:this.scene.anims.generateFrameNames("gems",{prefix:"prism_",end:6,zeroPad:4}),repeat:-1})}_removePreviousMarker(){if(this.scene.focusedGameObject){const t=this.scene.focusedGameObject.armatureDisplay.getByName("marker");this.scene.focusedGameObject.armatureDisplay.remove(t,!0),this.scene.focusedGameObject=null}}_createNewMarker(){const t=-(this.scene.focusedGameObject.armatureDisplay.armature.armatureData.canvas.height+80),e=this.scene.add.sprite(0,t,"gems");e.setName("marker"),e.play("prism"),this.scene.focusedGameObject.armatureDisplay.add(e)}set(t){this._removePreviousMarker(),this.scene.focusedGameObject=t,this._createNewMarker()}unset(){this._removePreviousMarker()}},Y=i(1),Z=i.n(Y),q=i(2),U=i.n(q),z=i(0),J=i.n(z);var Q=class{constructor(t){this.emitterConfiguration={frame:"yellow",radial:!1,lifespan:1e3,speedX:{min:50,max:120},quantity:1,gravityY:0,scale:{start:.3,end:.1,ease:"Power3"},blendMode:"ADD",on:!1},this.physicConfiguration={width:20,height:20,offsetX:-10,offsetY:-8,rotationOffset:2.9,speed:150,launchTimeOffset:50},this.animationName="cast_0",this.atlasName="flares",this.id="fireball",this.name="Fireball",this.description="A well known trick among most magic users.",this.dmg=15,this.dmgType="fire",this.icon=J.a,this.isSpell=!0,this.isRanged=!0,this.scene=t}preload(){this.scene.load.atlas(this.atlasName,Z.a,U.a)}},tt=i(15),et=i.n(tt),it=i(16),nt=i.n(it);var rt=class{constructor(){this.emitterConfiguration={active:!0,visible:!0,collideBottom:!0,collideLeft:!0,collideRight:!0,collideTop:!0,on:!0,particleBringToTop:!0,radial:!0,frame:{frames:["scorch_03"],cycle:!1,quantity:1},frequency:13,gravityX:150,gravityY:30,maxParticles:10,timeScale:2,blendMode:0,accelerationX:{ease:"Linear",min:0,max:10},accelerationY:{start:0,end:10,ease:"Linear"},alpha:1,angle:{min:0,max:360,ease:"Linear"},bounce:{ease:"Linear",start:0,end:""},delay:{ease:"Linear",start:"",end:""},lifespan:1e3,maxVelocityX:{ease:"Sine.easeIn",min:0,max:100},maxVelocityY:{ease:"Linear",min:0,max:100},moveToX:{ease:"Linear",min:0,max:100},moveToY:{start:0,end:100,ease:"Linear"},quantity:{ease:"Linear",min:0,max:1},rotate:0,scale:{ease:"Expo.easeIn",min:0,max:3},speed:0,x:401,y:235,tint:[16738816],emitZone:{source:new Phaser.Geom.Rectangle(0,0,50,50),type:"edge",quantity:10,stepRate:0,yoyo:!1,seamless:!1}},this.physicConfiguration={width:100,height:100},this.atlasName="particles"}preload(){this.scene.load.atlas(this.atlasName,et.a,nt.a)}};var st=class{constructor(t){this.emitterConfiguration={frame:"yellow",radial:!1,lifespan:1e3,speedX:{min:50,max:120},quantity:1,gravityY:0,scale:{start:.4,end:.2,ease:"Power3"},blendMode:"ADD",on:!1},this.physicConfiguration={width:25,height:25,offsetX:-14,offsetY:-14,rotationOffset:2.9,speed:150,launchTimeOffset:50},this.animationName="cast_0",this.atlasName="flares",this.id="exploding_fireball",this.name="Exploding Fireball",this.description="When mages get bored of regular fireballs.",this.dmg=15,this.dmgType="fire",this.icon=J.a,this.isSpell=!0,this.isRanged=!0,this.isAoE=!0,this.AoEEffect=new rt,this.scene=t}preload(){this.scene.load.atlas(this.atlasName,Z.a,U.a),this.AoEEffect.preload()}};class at extends Phaser.Scene{_preloadPlugins(){this.plugins.installScenePlugin("dragonBones",dragonBones.phaser.plugin.DragonBonesScenePlugin,"dragonbone",this)}_preloadAbilities(){this.abilities.fireball.preload()}_initAbilities(){this.abilities={},this.abilities.fireball=new Q(this),this.abilities.explodingFireball=new st(this)}preload(){this._initAbilities(),this._preloadAbilities(),this._preloadPlugins(),this.marker=new V(this),this.marker.preload()}_unFocusObject(){this.marker.unset()}_setEvents(){this.input.on("pointerdown",this._unFocusObject,this)}create(){this.marker.create(),this._setEvents()}}var ot=at;var ct=class extends ot{constructor(){super("Game")}_initHotkeys(){$G.hotkeys={keys:{1:this.abilities.fireball,2:this.abilities.explodingFireball,F4:{}}}}_initCharacters(){const t={scale:.45,name:"Player",scene:this,runVelocity:160,jumpVelocity:280,skin:A},e={scale:.32,name:"Ghost",scene:this,runVelocity:160,jumpVelocity:280,skin:G};this.characters={},this.characters.player=k.create(t),this.characters.ghost=C.create(e),this.characters.ghost2=C.create(e),this.characters.ghost3=C.create(e)}_preloadCharacters(){this.characters.player.preload(),this.characters.ghost.preload(),this.characters.ghost2.preload(),this.characters.ghost3.preload()}_setAbilities(){this.characters.player.abilities.fireball=this.abilities.fireball}_createCharacters(){const t=n.findObjectLayerByName(this.map,"player"),e=n.findObjectLayerByName(this.map,"npc"),i=n.findObjectsByName(t,"player_spawn"),r=n.findObjectsByName(e,"ghost_spawn_0"),s=n.findObjectsByName(e,"ghost_spawn_1"),a=n.findObjectsByName(e,"ghost_spawn_2");this.characters.player.create(i),this.characters.ghost.create(r),this.characters.ghost2.create(s),this.characters.ghost3.create(a),this.charactersOverlapArr=[this.characters.player.armatureDisplay,this.characters.ghost.armatureDisplay,this.characters.ghost2.armatureDisplay,this.characters.ghost3.armatureDisplay],this._setAbilities()}_updateCharacters(){this.characters.player.update()}_preloadMap(){this.load.image("dark_tiles",s.a),this.load.tilemapTiledJSON("temple0",a)}_createMap(){this.map=this.add.tilemap("temple0");const t=this.map.addTilesetImage("dark_tiles","dark_tiles");this.arch=this.map.createStaticLayer("arch",t,0,0),this.ground=this.map.createStaticLayer("ground",t,0,0)}_createPhysics(){let t=n.findObjectLayerByName(this.map,"collision"),e=o.create(this,t);this.physics.world.setBounds(0,0,1344,1024),this.physics.add.collider(this.characters.player.armatureDisplay,e),this.physics.add.collider(this.characters.ghost.armatureDisplay,e),this.physics.add.collider(this.characters.ghost2.armatureDisplay,e),this.physics.add.collider(this.characters.ghost3.armatureDisplay,e)}_createCamera(){this.cameras.main.setBounds(0,0,1344,1024),this.cameras.main.zoom=2,this.cameras.main.startFollow(this.characters.player.armatureDisplay,!0,.08,.08)}preload(){super.preload(),this._initHotkeys(),this._initCharacters(),this._preloadCharacters(),this._preloadMap(),$G.emit("Game::LoadHotkeys")}create(){super.create(),this._createMap(),this._createCharacters(),this._createPhysics(),this._createCamera()}update(){this._updateCharacters()}},lt=i(4),ut=i.n(lt),ht=i(3),ft=i.n(ht);var pt=class{constructor(){this.currentCursorPosition={x:0,y:0},this.currentTarget=null}_setCurrentCursorPosition(t){this.currentCursorPosition.x=t.clientX,this.currentCursorPosition.y=t.clientY}_unsetDraggingEvents(){document.onmousemove=null,document.onmouseup=null}_setDraggingEvents(){document.onmousemove=t=>this._dragElement(t),document.onmouseup=()=>this._unsetDraggingEvents()}_setCurrentTarget(t){this.currentTarget=t.delegateTarget}_startDragging(t){this._setCurrentTarget(t),this._setCurrentCursorPosition(t),this._setDraggingEvents()}_calculateDraggableElementPosition(t){const e=this.currentCursorPosition.x-t.clientX,i=this.currentCursorPosition.y-t.clientY;return{draggableElementLeftOffset:this.currentTarget.offsetLeft-e,draggableElementTopOffset:this.currentTarget.offsetTop-i}}_setDraggableElementPosition(t){const e=t.draggableElementTopOffset+"px",i=t.draggableElementLeftOffset+"px";this.currentTarget.style.setProperty("--draggable-element-top-px",e),this.currentTarget.style.setProperty("--draggable-element-left-px",i)}_dragElement(t){const e=this._calculateDraggableElementPosition(t);this._setDraggableElementPosition(e),this._setCurrentCursorPosition(t)}_setEvents(){ft()(".draggable","mousedown",t=>this._startDragging(t))}create(){this._setEvents()}};var dt=new class{constructor(){$G.hotkeys={},this.maxKeysInNumberRow=10}_createHotkeyBarDOM(){this.hotkeyBarContainer=document.createElement("div"),this.hotkeyBar=document.createElement("ul"),this.hotkeyBarContainer.classList.add("hotkeyBarContainer"),this.hotkeyBar.dataset.id=0,this.hotkeyBar.classList.add("hotkeyBar"),this.hotkeyBarContainer.append(this.hotkeyBar),this.uiLayer.append(this.hotkeyBarContainer)}_createHotkeyListItemDOM(t){const e=document.createElement("li"),i=t===this.maxKeysInNumberRow;e.dataset.id=i?0:t,this.hotkeyBar.append(e)}_createHotkeyListInnerDOM(){for(let t=1;t<=this.maxKeysInNumberRow;t++)this._createHotkeyListItemDOM(t)}_isHotkeyValueValid(t){return"object"==typeof t&&null!==t&&Object.keys(t).length}_loadHotkeyIntoDOM(t,e){const i=`li[data-id='${t}']`,n=this.hotkeyBar.querySelector(i),r=`url(${e.icon})`;n.title=e.name,n.style.setProperty("--hotkey-icon-bg-img",r)}_loadHotkey(t){const e=t[0],i=t[1];this._isHotkeyValueValid(i)&&this._loadHotkeyIntoDOM(e,i)}_loadHotkeys(){Object.entries($G.hotkeys.keys).forEach(t=>this._loadHotkey(t))}_onHotkeyClicked(t){const e=t.delegateTarget;$G.emit("HotkeyBar::ClickedHotkey",{id:e.dataset.id})}_setEvents(){ft()(this.hotkeysSelector,"click",t=>this._onHotkeyClicked(t)),$G.listen("Game::LoadHotkeys",()=>this._loadHotkeys())}_setup(){this.uiLayer=document.querySelector(".uiLayer"),this.hotkeysSelector=".hotkeyBar li"}create(){this._setup(),this._createHotkeyBarDOM(),this._createHotkeyListInnerDOM(),this._setEvents()}};var yt=new class{constructor(){this.abilityList=[{name:"fireball",icon:J.a,description:"bla bla bla, fireballs"}]}_loadAbilities(){}_createAbilityBook(){}_setup(){this.uiLayer=document.querySelector(".uiLayer")}create(){this._setup()}};var gt=new class{_createLogDOM(){this.logElement=document.createElement("ul"),this.logElement.classList.add("log"),this.uiLayer.append(this.logElement)}_createMessage(t){return`[${(new Date).toLocaleTimeString()}] ${t}`}_printMessage(t){const e=`\n                <li>\n                    ${this._createMessage(t)}\n                </li>\n            `;this.logElement.insertAdjacentHTML("beforeend",e)}_printMOTD(){this._printMessage("Welcome back!")}_setEvents(){$G.listen("EffectManager::appliedEffect",t=>{const e=`${t.user.config.name} applied effect ${t.effect.config.name} on ${t.target.config.name}.`;this._printMessage(e)})}_setup(){this.uiLayer=document.querySelector(".uiLayer"),this._setEvents()}create(){this._setup(),this._createLogDOM(),this._printMOTD()}};var mt=new class{constructor(){}_show(){}_hide(){}_setEvents(){$G.listen("Dialogue::start",()=>this._show())}_setup(){this.$dialogueBox=$('\n            <article class="dialogueBox">\n                <h1></h1>\n                <p></p>\n            </article>\n        '),this.$uiLayer=$(".uiLayer")}create(){this._setup(),this.$uiLayer.append(this.$dialogueBox)}};var vt=class{constructor(){this.$body=ut()(document.body),window.$=ut.a}_createUILayer(){this.$uiLayer=ut()("<div></div>"),this.$uiLayer.addClass("uiLayer"),this.$body.append(this.$uiLayer)}create(){this._createUILayer();const t=new pt;dt.create(),yt.create(),t.create(),gt.create(),mt.create()}};(new class{constructor(){this.initConfig()}initConfig(){this.config={type:Phaser.AUTO,physics:{default:"arcade",arcade:{gravity:{y:300},debug:$G.isDebug}},scale:{mode:Phaser.Scale.RESIZE,autoCenter:Phaser.Scale.CENTER_BOTH},disableContextMenu:!0,scene:[ct]}}start(){this.game=new Phaser.Game(this.config),this.ui=new vt,this.ui.create()}}).start()}]);